<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - Mingle-Mart</title>
    <link rel="stylesheet" href="../css/product_p.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <a href="../home.html"><img src="../pics/Mingle-m.png" alt="Mingle-Bites Logo"></a>
        </div>
        <nav>
            <a href="../home.html">Home</a>
        </nav>
    </header>

    <!-- Product Detail Section -->
    <section class="product-detail">
        <div class="product-container">
            <!-- Product Image Gallery -->
            <div class="product-images">
                <img src="../pics/cardamom.jpg" alt="Cardamom" class="main-image">
            </div>

            <!-- Product Info -->
            <div class="product-info">
                <h1 class="product-name">Cardamom</h1>
                <p class="product-price">RS250 / 100g</p>
                <p class="product-description">
                    Cardamom is a fragrant spice used in both sweet and savory dishes. Known for its distinct aroma and flavor, it is perfect for enhancing the taste of curries, teas, desserts, and more.
                </p>
            
                <div class="quantity-selector">
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" min="1" value="1" required>
                </div>
            
                <div class="product-actions">
                    <button class="btn-primary" onclick="addToCart('Cardamom', 250)">Add to Cart</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Products -->
    <section class="related-products">
        <h2>Related Products</h2>
        <div class="product-grid">
            <div class="product-card">
                <img src="../pics/chilli.webp" alt="Chili Powder">
                <h3>Chili Powder</h3>
                <p>RS180 / 100g</p>
                <button class="btn-secondary" onclick="addToCartAndNavigate('Chili Powder', 180, './chili_powder.html')">Buy</button>
            </div>
            <div class="product-card">
                <img src="../pics/cumin.jpeg" alt="Cumin">
                <h3>Cumin</h3>
                <p>RS130 / 100g</p>
                <button class="btn-secondary" onclick="addToCartAndNavigate('Cumin', 130, './cumin.html')">Buy</button>
            </div>
            <div class="product-card">
                <img src="../pics/tumeric.jpeg" alt="Turmeric">
                <h3>Turmeric</h3>
                <p>RS150 / 100g</p>
                <button class="btn-secondary" onclick="addToCartAndNavigate('Turmeric', 150, './turmeric.html')">Buy</button>
            </div>
            <div class="product-card">
                <img src="../pics/masala.jpg" alt="Garam Masala">
                <h3>Garam Masala</h3>
                <p>RS200 / 100g</p>
                <button class="btn-secondary" onclick="addToCartAndNavigate('Garam Masala', 200, './garam_masala.html')">Buy</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Mingle-Bites. All Rights Reserved.</p>
        <div class="social-links">
            <a href="https://www.facebook.com" target="_blank">
                <img src="../pics/facebook-new.png" alt="Facebook" width="24" height="24">
            </a>
            <a href="https://www.twitter.com" target="_blank">
                <img src="../pics/twitter.png" alt="Twitter" width="24" height="24">
            </a>
            <a href="https://www.instagram.com" target="_blank">
                <img src="../pics/insta.png" alt="Instagram" width="24" height="24">
            </a>
        </div>
    </footer>

    <script>
        function addToCart(productName, price) {
            const quantityInput = document.getElementById('quantity');
            const quantity = parseInt(quantityInput.value, 10);
            if (quantity < 1) {
                alert("Please enter a valid quantity!");
                return;
            }
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingProduct = cart.find(item => item.productName === productName);

            if (existingProduct) {
                existingProduct.quantity += quantity;
            } else {
                cart.push({ productName, price, quantity });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(`${quantity} x ${productName} added to your cart!`);
        }

        function addToCartAndNavigate(productName, price, productPage) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingProduct = cart.find(item => item.productName === productName);

            if (existingProduct) {
                existingProduct.quantity += 1; // Default to 1 for related products
            } else {
                cart.push({ productName, price, quantity: 1 });
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            window.location.href = productPage;
        }
    </script>
</body>
</html>
